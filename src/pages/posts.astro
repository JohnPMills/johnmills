---
import PageHeading from "../components/page-heading.astro";
import PostsLoop from "../components/posts-loop.astro";
import Layout from "../layouts/main.astro";

const feed = "https://drjpmills.substack.com"; // <-- or your real Substack
---

<Layout title="My Writing">
  <section class="relative z-20 max-w-2xl mx-auto my-12 px-7 lg:px-0">
    <PageHeading
      title="Insights and Perspectives"
      description="Here are Dr Mills's latest thoughts about Leadership, Organisational Culture, and Open Science."
    />

    <div class="z-50 flex flex-col items-stretch w-full gap-5 my-8">
      <PostsLoop count="999999999" />
    </div>

    <!-- Substack prompt -->
    <div class="mt-12">
      <p class="mt-2 text-sm text-neutral-600 dark:text-neutral-400">
        Get Dr Mills's insights straight to your email via
        <a class="font-bold" href={feed} target="_blank" rel="noopener noreferrer">Substack</a>.
      </p>
      <div class="flex flex-col items-center w-full mt-4 space-y-3">
        <input
          type="url"
          readonly
          placeholder="Email address"
          aria-label="Email address"
          required
          value={feed}
          class="w-full h-10 px-3 text-sm border border-dashed rounded-md focus:ring-0 focus:outline-black border-neutral-400 dark:border-neutral-600 dark:bg-neutral-800 dark:placeholder-neutral-400 dark:text-white"
        />
        <button
          type="submit"
          class="block w-full px-4 py-2 mt-5 text-xs font-semibold text-center duration-300 ease-out border rounded bg-neutral-900 dark:bg-neutral-100 dark:hover:border-neutral-300 dark:text-neutral-800 dark:hover:bg-neutral-950 dark:hover:text-neutral-100 text-neutral-100 border-neutral-900 hover:bg-white hover:text-neutral-900"
        >
          Subscribe
        </button>
      </div>
    </div>
  </section>
</Layout>
